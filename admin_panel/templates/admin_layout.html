<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Admin Panel{% endblock %} - CareerConnect</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/base.css' %}" />
    {% block extra_css %}{% endblock %}
  </head>
  <body>
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-logo">âš¡ ADMIN PANEL</div>
      </div>

      <nav class="sidebar-menu">
        <div class="menu-section">
          <div class="menu-section-title">Main</div>
          <a
            href="{% url 'admin_panel:dashboard' %}"
            class="menu-item {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}"
          >
            <i class="fas fa-chart-line"></i>
            <span>Dashboard</span>
          </a>
          <a
            href="{% url 'admin_panel:analytics' %}"
            class="menu-item {% if request.resolver_match.url_name == 'analytics' %}active{% endif %}"
          >
            <i class="fas fa-chart-bar"></i>
            <span>Analytics</span>
          </a>
        </div>

        <div class="menu-section">
          <div class="menu-section-title">Management</div>
          <a
            href="{% url 'admin_panel:manage_users' %}"
            class="menu-item {% if 'users' in request.path %}active{% endif %}"
          >
            <i class="fas fa-users"></i>
            <span>Users</span>
          </a>
          <a
            href="{% url 'admin_panel:manage_jobs' %}"
            class="menu-item {% if 'jobs' in request.path and 'admin_panel' in request.path %}active{% endif %}"
          >
            <i class="fas fa-briefcase"></i>
            <span>Jobs</span>
          </a>
          <a
            href="{% url 'admin_panel:manage_applications' %}"
            class="menu-item {% if 'applications' in request.path %}active{% endif %}"
          >
            <i class="fas fa-file-alt"></i>
            <span>Applications</span>
          </a>
          <a
            href="{% url 'admin_panel:manage_contacts' %}"
            class="menu-item {% if 'contacts' in request.path %}active{% endif %}"
          >
            <i class="fas fa-envelope"></i>
            <span>Contacts</span>
          </a>
        </div>

        <div class="menu-section">
          <div class="menu-section-title">System</div>
          <a href="{% url 'jobs:home' %}" class="menu-item">
            <i class="fas fa-globe"></i>
            <span>View Site</span>
          </a>
          <a href="{% url 'jobs:logout' %}" class="menu-item">
            <i class="fas fa-sign-out-alt"></i>
            <span>Logout</span>
          </a>
        </div>
      </nav>
    </aside>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Top Bar -->
      <header class="topbar">
        <h1 class="topbar-title">
          {% block page_title %}Dashboard{% endblock %}
        </h1>
        <div class="topbar-actions">
          <div class="user-info">
            <div class="user-avatar">{{ user.username.0|upper }}</div>
            <div>
              <div style="font-weight: 600">{{ user.username }}</div>
              <div style="font-size: 0.75rem; color: var(--text-secondary)">
                Super Admin
              </div>
            </div>
          </div>
        </div>
      </header>

      <!-- Messages -->
      {% if messages %}
      <div class="messages">
        {% for message in messages %}
        <div class="message message-{{ message.tags }}">
          <i class="fas fa-check-circle"></i>
          <span>{{ message }}</span>
        </div>
        {% endfor %}
      </div>
      {% endif %}

      <!-- Content -->
      <div class="content">{% block content %}{% endblock %}</div>
    </div>

    {% block extra_js %}{% endblock %}
  </body>
</html>
